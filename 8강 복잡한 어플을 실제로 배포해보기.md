### 섹션 설명

-   6, 7강 섹션에서 도커를 이용하여 리액트 앱을 만들어봤다.

-   하지만 실제로 어플리케이션을 만들때는 프론트 부분만을 이용하는 것이 아닌 백엔드 서버도 필요하고 데이터베이스 등 많은 것이 필요하기 때문에 이번 섹션부터는 좀 더 많은 컨테이너를 사용해서 좀 더 실무에서 사용할 수 있는 어플리케이션을 만들어보자.

🎓 여러개의 컨테이너를 이용해 구현할 어플리케이션은?

-   클라이언트에서 아무글이나 입력을 하면 리액트를 통해서 노드로 전달 된 이후 Mysql 데이터 베이스에 저장한 후 저장 된 것을 화면에 보여주는 앱을 구현할 것이다.

-   그리고 컨테이너를 삭제 했다가 다시 생성해도 DB에 저장된 데이터는 남아있게 해줄 것이다.

📌 Multi Container 앱을 위한 전체적인 설계

-   두가지 방법

1.    Nginx로 클라이언트에서 오는 요청을 백엔드 서버와 프론트 서버로 나눠주는 구조.
   
              
    ✔ 장점

    -  요청을 보낼 때 URL 부분을 host이름이 바뀌어도 변경하지 않아도 된다

    -   포트가 바뀌어도 변경하지 않아도 된다.

    ex) axios.get("api/valuse")

    ✔ 단점

    -  nginx 설정, 전체 설계가 복잡하다


2.   Nginx는 프론트 서버로만 사용하여 클라이언트에서 정적 파일을 요구할 때 제공해주는 형식으로만 쓰이는 구조

    ✔ 장점

     -  설계가 다소 간단하여 구현하는게 더 쉽다

    ex) axios.get("http://localhost:3000/api/valuse")

    ✔ 단점

     -  host이름이나 포트 변경이 있으면 요청 URL도 변경해야 한다.

-   복잡한 쪽으로 구현을 시작해보자!

👀 전체적인 흐름

  `전체 소스 코드 작성 => Dockerfile 작성 => docker-compose 작성` (8강)


-   전체 소스 코드 작성

        -  NodeJs => React

-   Dockerfile 작성

    -   개발환경(Dockerfile.dev)
        
        -   Front => Server  => Mysql => Nginx 

    -   운영환경(Dockerfile)

        -   Front => Server  => Mysql => Nginx 

-   docker-compose 작성

```js
version

services
    
    frontend

    backend

    nginx

    mysql

```
`깃헙에 Push => Travis CI => Docker Hub => AWS ElasticBeanStalk` (9강)

-   깃헙에 Push
    
    - Feature Branch => Master Branch

-   Travis CI

    -   테스트 코드 실행 => 테스트 성공 => 각각의 Dockerfile을 이용하여 Image를 생성(빌드) => 이미지 생성 후 Docker Hub로 전달

-   Docker Hub

    -  Travis CI에서 빌드된 이미지를 보관

    -   AWS ElasticBeanStalk에서 가져가려고 할 때 전달

-   AWS ElasticBeanStalk

    -   Travis CI에서 빌드된 이미지를 이용해서 배포

